<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <!-- 기본 설정 -->
  <arg name="use_sim_time" default="false"/>
  <arg name="debug" default="false"/>
  
  <!-- Config 파일 경로 -->
  <arg name="config_file" default="$(find-pkg-share ultralytics_ros)/config/tracker_with_cloud.param.yaml"/>

  <set_parameter name="use_sim_time" value="$(var use_sim_time)"/>

  <!-- YOLO Tracker Node -->
  <node pkg="ultralytics_ros" exec="tracker_node.py" name="yolo_tracker_node" output="screen">
    <param from="$(var config_file)"/>
    <param name="model_path" value="$(find-pkg-share ultralytics_ros)/models"/>
  </node>

  <!-- 3D Tracker with Cloud Node -->
  <node pkg="ultralytics_ros" exec="tracker_with_cloud_node" name="tracker_3d_node" output="screen">
    <param from="$(var config_file)"/>
  </node>

  <!-- RViz2 -->
  <node if="$(var debug)" pkg="rviz2" exec="rviz2" name="rviz2" 
        args="-d $(find-pkg-share ultralytics_ros)/rviz2/default.rviz" output="screen"/>
</launch>
